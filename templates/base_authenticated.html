<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{% block title %}Knees{% endblock %}</title>
    <link rel="stylesheet" href="/static/css/base.css" />
  </head>
  <body class="app-shell">
    {% load user_groups %}
    <header class="app-header">
      <div class="app-header__inner">
        <div class="brand">Knees</div>
        <nav class="primary-nav" aria-label="Primary">
          {% url 'health' as health_url %}
          {% url 'health_progress' as progress_url %}
          {% url 'health_settings' as settings_url %}
          {% url 'trainer' as trainer_url %}
          <a href="{{ health_url }}" {% if request.path == health_url %}aria-current="page"{% endif %}>Home</a>
          <a href="{{ progress_url }}" {% if request.path == progress_url %}aria-current="page"{% endif %}>Progress</a>
          <a href="{{ settings_url }}" {% if request.path == settings_url %}aria-current="page"{% endif %}>Settings</a>
          {% if request.user.is_staff or request.user|has_group:"trainer user" %}
          <a href="{{ trainer_url }}" {% if request.path|starts_with:trainer_url %}aria-current="page"{% endif %}>Trainer</a>
          {% endif %}
          <a href="/auth/logout/">Logout</a>
        </nav>
      </div>
    </header>
    <main class="app-main">{% block content %}{% endblock %}</main>
    <nav class="mobile-nav" aria-label="Primary">
      <div class="mobile-nav__inner">
        <a href="{{ health_url }}" {% if request.path == health_url %}aria-current="page"{% endif %}>
          <span class="mobile-nav__icon">ğŸ </span>
          <span>Home</span>
        </a>
        <a href="{{ progress_url }}" {% if request.path == progress_url %}aria-current="page"{% endif %}>
          <span class="mobile-nav__icon">ğŸ“ˆ</span>
          <span>Progress</span>
        </a>
        {% if request.user.is_staff or request.user|has_group:"trainer user" %}
        <a href="{{ trainer_url }}" {% if request.path|starts_with:trainer_url %}aria-current="page"{% endif %}>
          <span class="mobile-nav__icon">ğŸ§­</span>
          <span>Trainer</span>
        </a>
        {% endif %}
        <a href="{{ settings_url }}" {% if request.path == settings_url %}aria-current="page"{% endif %}>
          <span class="mobile-nav__icon">âš™ï¸</span>
          <span>Settings</span>
        </a>
      </div>
    </nav>
  </body>
</html>
